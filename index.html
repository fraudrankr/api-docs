
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">

    <!-- Always force latest IE rendering engine or request Chrome Frame -->
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

    <!-- Use title if it's in the page YAML frontmatter -->
    <title>FraudRankr API Reference</title>

    <link href="stylesheets/screen.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="stylesheets/print.css" media="print" rel="stylesheet" type="text/css" />
    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script src="javascripts/all.js" type="text/javascript"></script>

    <script>
      $(function() {
        var toc = $("#toc").tocify({
          selectors: "h1,h2",
          extendPage: false,
          theme: "none",
          smoothScroll: false,
          showEffectSpeed: 0,
          hideEffectSpeed: 180,
          ignoreSelector: ".toc-ignore",
          hashGenerator: 'pretty',
          highlightOffset: 60,
          scrollTo: -2,
          scrollHistory: true,
          hashGenerator: function(text, element) {
            return element[0].getAttribute('id');
          }
        }).data("toc-tocify");
        // Hack to make already open sections to start opened,
        // instead of displaying an ugly animation
        setTimeout(function() {
          toc.setOption("showEffectSpeed", 180);
        },50);
        setupLanguages([
          
            
              
                'shell',
              
            
          
        ]);
      });
    </script>
  </head>

  <body class="index">
    <div class="tocify-wrapper">
      <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+Cjxzdmcgd2lkdGg9IjE1MyIgaGVpZ2h0PSI1NyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KIDwhLS0gQ3JlYXRlZCB3aXRoIE1ldGhvZCBEcmF3IC0gaHR0cDovL2dpdGh1Yi5jb20vZHVvcGl4ZWwvTWV0aG9kLURyYXcvIC0tPgoKIDxnPgogIDx0aXRsZT5iYWNrZ3JvdW5kPC90aXRsZT4KICA8cmVjdCB4PSItMSIgeT0iLTEiIHdpZHRoPSIxNTUiIGhlaWdodD0iNTkiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogIDxnIGlkPSJjYW52YXNHcmlkIiBkaXNwbGF5PSJub25lIj4KICAgPHJlY3QgaWQ9InN2Z18yIiB3aWR0aD0iNTgwIiBoZWlnaHQ9IjQwMCIgeD0iMSIgeT0iMSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSJ1cmwoI2dyaWRwYXR0ZXJuKSIvPgogIDwvZz4KIDwvZz4KIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8dGV4dCBmb250LXN0eWxlPSJub3JtYWwiIGZpbGw9IiMwMDhjYmEiIHN0cm9rZS13aWR0aD0iMCIgeD0iMTguNSIgeT0iMzciIGlkPSJzdmdfMSIgZm9udC1zaXplPSIyNCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWYiIHRleHQtYW5jaG9yPSJsZWZ0IiB4bWw6c3BhY2U9InByZXNlcnZlIiBzdHJva2U9IiMwMDAiIGZvbnQtd2VpZ2h0PSJub3JtYWwiPkZyYXVkciYjMjI2O25rcjwvdGV4dD4KIDwvZz4KPC9zdmc+" />
      <div id="toc">
      </div>
      
      <ul class="toc-footer">
        
          <li><a href='http://www.fraudrankr.com/'>Request API Key</a></li>
        
          <li><a href='https://github.com/fraudrankr/api-docs/edit/master/source/index.md'>Edit on Github</a></li>
        
      </ul>
      
    </div>
    <div class="page-wrapper">
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>The Fraudrankr REST API supports 3 different resources (events).</p>

<p>A message sent to our API corresponds to a user event (transaction, label
and custom event) on your service.</p>

<p>Base URL: <code class="prettyprint">https://c.fraudrankr.com/</code></p>

<blockquote>
<p>API endpoints</p>
</blockquote>
<pre class="highlight shell">https://c.fraudrankr.com/transactions
https://c.fraudrankr.com/labels
https://c.fraudrankr.com/custom-events
</pre>
<p>All responses will be delivered in JSON format. HTTP response codes are used to
indicate API errors.</p>

<h1 id="testing-the-api">Testing the API</h1>
<pre class="highlight shell"><span class="nb">echo</span> <span class="s1">'{
    "apikey": "&lt;apikey&gt;",
    "user_id": "1234",
    "transaction_id": "ab1cd2-1234-5678",
    "label": "chargeback",
    "reason": "30"
}'</span>
curl -X POST -d - https://c.fraudrankr.com/labels
</pre>
<blockquote>
<p>The above command will send the JSON document (in HTTP request body):</p>
</blockquote>
<pre class="highlight http"><span class="nf">POST</span> <span class="nn">/labels</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">c.fraudrankr.com</span>

{ "apikey": "&lt;apikey&gt;", "user_id": "1234", "transaction_id": "ab1cd2-1234-5678",
"label": "chargeback", "reason": "30" }
</pre>
<p>Use your HTTP client of choice whether it is <code class="prettyprint">wget</code>, <code class="prettyprint">curl</code>,
<a href="http://www.getpostman.com">Postman</a>, or
<a href="https://addons.mozilla.org/en-US/firefox/addon/restclient">RESTClient</a>.
We will use <code class="prettyprint">curl</code> for the examples so you can easily copy and paste to test.</p>

<h1 id="authentication">Authentication</h1>

<p>FraudRankr uses API keys to allow access to the API. You can register for a
FraudRankr API key at <a href="http://www.fraudrankr.com/">fraudrankr.com</a></p>

<p>FraudRankr expects the API key to be included in all JSON API requests to the
server that looks like the following:</p>
<pre class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"apikey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;apikey&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab1cd2-1234-5678"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"chargeback"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>
<p><aside class="notice">
You must replace <code class="prettyprint">&lt;apikey&gt;</code> with your own API key.
</aside></p>

<h1 id="common-fields">Common fields</h1>

<p>Common fields for all event types:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td>yes</td>
<td>The API key should be included in all API requests.</td>
</tr>
<tr>
<td>user_id</td>
<td>no</td>
<td>Unique ID for the user from your system.</td>
</tr>
<tr>
<td>user_ip</td>
<td>no</td>
<td>IP address of the user.</td>
</tr>
<tr>
<td>user_email</td>
<td>no</td>
<td>Mail address of the user.</td>
</tr>
<tr>
<td>time</td>
<td>no</td>
<td>Time (UTC) of the event since epoch (in seconds) e.g. 1392211854.</td>
</tr>
</tbody></table>

<p><aside class="notice">
The <code class="prettyprint">time</code> parameter is optional, but when provided it must to be in UTC.
</aside></p>

<p><aside class="notice">
The <code class="prettyprint">user_mail</code>, <code class="prettyprint">user_ip</code>, and <code class="prettyprint">user_id</code> parameters are not required, but
sending them helps us to better score the users.
</aside></p>

<h1 id="transaction-events">Transaction Events</h1>

<blockquote>
<p>An example <code class="prettyprint">sale transaction</code> event</p>
</blockquote>
<pre class="highlight json"><span class="w">    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"apikey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;apikey&gt;"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"219.231.41.48"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab1cd2-1234-5678"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sale"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">25000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"card"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"bin"</span><span class="p">:</span><span class="w"> </span><span class="mi">411111</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last4"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name_on_card"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"shipping_address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"address_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50 Narrow Street"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"address_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Flat 20"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"zipcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SW1A 1AA"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"London"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GB"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></pre>
<blockquote>
<p>An example <code class="prettyprint">refund transaction</code> event</p>
</blockquote>
<pre class="highlight json"><span class="w">    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"apikey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;apikey&gt;"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab1cd2-1234-5678"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"refund"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">25000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"card"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"bin"</span><span class="p">:</span><span class="w"> </span><span class="mi">411111</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last4"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name_on_card"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://c.fraudrankr.com/transactions</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>transaction_id</td>
<td>yes</td>
<td>ID of the transaction in your system.</td>
</tr>
<tr>
<td>label</td>
<td>yes</td>
<td>Indicates the type of transaction. Valid values: (sale, authorization, capture, refund, credit, recurring)</td>
</tr>
<tr>
<td>amount</td>
<td>yes</td>
<td>The amount of the transaction (written in minor unit e.g. €20 EUR equals 2000 cents).</td>
</tr>
<tr>
<td>currency</td>
<td>yes</td>
<td><a href="http://en.wikipedia.org/wiki/ISO_4217">ISO 4217 currency code</a> e.g. EUR.</td>
</tr>
<tr>
<td>user_id</td>
<td>no</td>
<td>Unique ID for the user from your system.</td>
</tr>
<tr>
<td><strong>card</strong></td>
<td>no</td>
<td>Details on the card used to do the transaction.</td>
</tr>
<tr>
<td>bin</td>
<td>yes</td>
<td>The first 6 digits of the card number (aka the IIN number) e.g. 429503.</td>
</tr>
<tr>
<td>last4</td>
<td>yes</td>
<td>The last 4 digits of the card number e.g. 1234</td>
</tr>
<tr>
<td>name_on_card</td>
<td>yes</td>
<td>The name of the card holder e.g. John Doe.</td>
</tr>
<tr>
<td><strong>shipping_address</strong></td>
<td>no</td>
<td>Provided if any shipping takes place.</td>
</tr>
<tr>
<td>address_1</td>
<td>yes</td>
<td>Address line 1 e.g. 50 Narrow Street.</td>
</tr>
<tr>
<td>address_2</td>
<td>no</td>
<td>Address line 2 e.g. Flat 20.</td>
</tr>
<tr>
<td>zipcode</td>
<td>yes</td>
<td>Zipcode e.g. SW1A 1AA.</td>
</tr>
<tr>
<td>city</td>
<td>yes</td>
<td>City e.g. London</td>
</tr>
<tr>
<td>country</td>
<td>yes</td>
<td><a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO 3166-1_alpha-2</a> two-letter country code e.g. GB.</td>
</tr>
</tbody></table>

<p><aside class="notice">
The <code class="prettyprint">card</code> and <code class="prettyprint">shpping_address</code> parameters are not required, but sending them
helps us to better score the users.
</aside></p>

<h1 id="label-events">Label Events</h1>

<blockquote>
<p>An example using the <code class="prettyprint">chargeback</code> label</p>
</blockquote>
<pre class="highlight json"><span class="w">    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"apikey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;apikey&gt;"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab1cd2-1234-5678"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"chargeback"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1371804841</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></pre>
<blockquote>
<p>An example using the <code class="prettyprint">retrieval-request</code> label</p>
</blockquote>
<pre class="highlight json"><span class="w">    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"apikey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;apikey&gt;"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab1cd2-1234-5678"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"retrieval-request"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1371804841</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></pre>
<p>Labels are used to mark users that our service should learn from. An
example could be marking a user that sent a chargeback (i.e.
<code class="prettyprint">&quot;label&quot;: &quot;chargeback&quot;</code>).</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://c.fraudrankr.com/labels</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>transaction_id</td>
<td>yes</td>
<td>ID of the transaction in your system.</td>
</tr>
<tr>
<td>label</td>
<td>yes</td>
<td>Label of the event e.g. chargeback. See restrictions bellow.</td>
</tr>
<tr>
<td>reason</td>
<td>no</td>
<td>Card scheme reason code e.g. 30.</td>
</tr>
</tbody></table>

<p><aside class="notice">
Help us by using card scheme specific reasons code in <code class="prettyprint">reason</code>. See
<a href="#chargeback-reason-codes">Chargeback Reason Codes</a> and <a href="#retrieval-request-reason-codes">Retrieval Request
Reason Codes</a>.
</aside></p>

<p>There are a few reserved values for <code class="prettyprint">label</code>:</p>

<ul>
<li><code class="prettyprint">ban</code> - A user abused your system or abused other users and should be marked
as bad.</li>
<li><code class="prettyprint">unban</code> - A user was mistakenly banned in your system. Avoid our system will
treat good behaviour as bad behaviour.</li>
<li><code class="prettyprint">chargeback</code> - A user made a transaction that caused a chargeback. Please
also send <code class="prettyprint">transaction_id</code> that caused this chargeback.</li>
<li><code class="prettyprint">retrieval-request</code> - A user caused a retrieval request.</li>
</ul>

<h1 id="custom-events">Custom Events</h1>

<blockquote>
<p>Custom <code class="prettyprint">open_ticket</code> event example</p>
</blockquote>
<pre class="highlight json"><span class="w">    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"apikey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;apikey&gt;"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@gmail.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open_ticket"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hi Customer Service,\nWhy did you charge my account?"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1371804841</span><span class="w">
     </span><span class="p">}</span><span class="w">
</span></pre>
<blockquote>
<p>Custom <code class="prettyprint">close_ticket</code> event example</p>
</blockquote>
<pre class="highlight json"><span class="w">    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"apikey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;apikey&gt;"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@gmail.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"close_ticket"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dear John,\nWe charged you €10 for your monthly subscription at service.com?"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1371804841</span><span class="w">
     </span><span class="p">}</span><span class="w">
</span></pre>
<p>Custom events are used to tell the system of all kind of events, e.g. a
subscription to a service, customer service contact, a newsletter subsctription,
an unsubsctription, and so on.</p>

<h1 id="page-events-(javascript)">Page Events (JavaScript)</h1>

<p>FraudRankr collects page events via JavaScript.</p>

<blockquote>
<p>Copy-and-paste the following JavaScript snippet onto your site just before <code class="prettyprint">&lt;/head&gt;</code>.</p>
</blockquote>
<pre class="highlight html"><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">FraudRankr</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">publishable_key</span><span class="p">:</span> <span class="s1">'&lt;apikey&gt;'</span>
  <span class="na">user</span><span class="p">:</span> <span class="s1">'&lt;user@example.com&gt;'</span>
<span class="p">};</span>
<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">function</span> <span class="nx">kickFraudRankr</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="nb">document</span><span class="p">,</span> <span class="nx">f</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">'script'</span><span class="p">);</span>
    <span class="nx">f</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s1">'text/javascript'</span><span class="p">;</span>
    <span class="nx">f</span><span class="p">.</span><span class="nx">async</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nx">f</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">protocol</span> <span class="o">==</span> <span class="s1">'https:'</span> <span class="p">?</span> <span class="s1">'https'</span> <span class="p">:</span> <span class="s1">'http'</span><span class="p">)</span> <span class="o">\</span>
            <span class="o">+</span> <span class="s1">'://c.fraudrankr.com/resources/t.js'</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">'script'</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
    <span class="nx">s</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span> <span class="nx">s</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">attachEvent</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">a</span><span class="p">(</span><span class="s1">'onload'</span><span class="p">,</span> <span class="nx">kickFraudRankr</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'load'</span><span class="p">,</span> <span class="nx">kickFraudRankr</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">})();</span>
<span class="nt">&lt;/script&gt;</span>
</pre>
<p><aside class="notice">
You can use the <code class="prettyprint">user</code> variable to set any value that can identify the user,
e.g. a user mail address.
</aside></p>

<h1 id="chargeback-reason-codes">Chargeback Reason Codes</h1>

<h2 id="visa">Visa</h2>

<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>30</td>
<td>Services Not Provided or Merchandise Not Received</td>
</tr>
<tr>
<td>41</td>
<td>Cancelled Recurring Transaction</td>
</tr>
<tr>
<td>53</td>
<td>Not as Described or Defective Merchandise</td>
</tr>
<tr>
<td>57</td>
<td>Fraudulent Multiple Transactions</td>
</tr>
<tr>
<td>60</td>
<td>Requested Copy Illegible</td>
</tr>
<tr>
<td>62</td>
<td>Counterfeit Transaction</td>
</tr>
<tr>
<td>71</td>
<td>Declined Authorization</td>
</tr>
<tr>
<td>72</td>
<td>No Authorization Obtained</td>
</tr>
<tr>
<td>73</td>
<td>Expired Card</td>
</tr>
<tr>
<td>74</td>
<td>Late Presentment</td>
</tr>
<tr>
<td>75</td>
<td>Cardholder Does Not Recognize the Transaction</td>
</tr>
<tr>
<td>76</td>
<td>Incorrect Transaction Code</td>
</tr>
<tr>
<td>77</td>
<td>Non Matching Acct Number</td>
</tr>
<tr>
<td>79</td>
<td>Requested Transaction Information Not Received</td>
</tr>
<tr>
<td>80</td>
<td>Incorrect Transaction Amount or Acct Number</td>
</tr>
<tr>
<td>81</td>
<td>Fraudulent Transaction - Card Present</td>
</tr>
<tr>
<td>82</td>
<td>Duplicate Processing</td>
</tr>
<tr>
<td>83</td>
<td>Fraudulent Transaction - Card Not Present</td>
</tr>
<tr>
<td>85</td>
<td>Credit Not Processed</td>
</tr>
<tr>
<td>86</td>
<td>Paid by Other Means</td>
</tr>
</tbody></table>

<h2 id="mastercard">MasterCard</h2>

<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>01</td>
<td>Requested Transaction Data Not Received</td>
</tr>
<tr>
<td>02</td>
<td>Requested item illegible</td>
</tr>
<tr>
<td>07</td>
<td>Warning Bulletin File</td>
</tr>
<tr>
<td>08</td>
<td>Requested/Required Authorization Not Obtained</td>
</tr>
<tr>
<td>12</td>
<td>Account Number Not on File</td>
</tr>
<tr>
<td>31</td>
<td>Transaction Amount Differs</td>
</tr>
<tr>
<td>34</td>
<td>Duplicate Processing</td>
</tr>
<tr>
<td>35</td>
<td>Card Not Valid or Expired</td>
</tr>
<tr>
<td>37</td>
<td>Fraudulent Mail/Phone Order Transaction</td>
</tr>
<tr>
<td>40</td>
<td>Fraudulent Processing of Transactions</td>
</tr>
<tr>
<td>41</td>
<td>Canceled Recurring Transaction</td>
</tr>
<tr>
<td>42</td>
<td>Late Presentment</td>
</tr>
<tr>
<td>47</td>
<td>Exceeds Floor Limit, Not Authorized, and Fraud Transactions</td>
</tr>
<tr>
<td>49</td>
<td>Questionable Merchant Activity</td>
</tr>
<tr>
<td>50</td>
<td>Credit Posted as a Debit</td>
</tr>
<tr>
<td>53</td>
<td>Cardholder Dispute Defective/Not as Described</td>
</tr>
<tr>
<td>54</td>
<td>Cardholder Dispute-Not Elsewhere (U.S. only)</td>
</tr>
<tr>
<td>55</td>
<td>Non-receipt of Merchandise</td>
</tr>
<tr>
<td>59</td>
<td>Services Not Rendered</td>
</tr>
<tr>
<td>60</td>
<td>Credit Not Processed</td>
</tr>
<tr>
<td>62</td>
<td>Counterfeit Transaction Magnetic Stripe POS Fraud</td>
</tr>
<tr>
<td>63</td>
<td>Cardholder Does Not Recognize - Potential Fraud</td>
</tr>
</tbody></table>

<h2 id="discover">Discover</h2>

<p>Discover Network has both numeric and alpha-numeric dispute reason codes. Your
documentation may include either value.</p>

<table><thead>
<tr>
<th>Code</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>4750</td>
<td>AL</td>
<td>Airline Transaction Dispute</td>
</tr>
<tr>
<td>4541</td>
<td>AP</td>
<td>Automatic Payment Dispute</td>
</tr>
<tr>
<td>4586</td>
<td>AW</td>
<td>Altered Amount Dispute</td>
</tr>
<tr>
<td>4751</td>
<td>CA</td>
<td>Cash Advance Dispute</td>
</tr>
<tr>
<td>4550</td>
<td>CD</td>
<td>Credit Posted as Card Sale</td>
</tr>
<tr>
<td>4594</td>
<td>CR</td>
<td>Cancelled Reservation</td>
</tr>
<tr>
<td>4752</td>
<td>DA</td>
<td>Declined Authorization</td>
</tr>
<tr>
<td>4534</td>
<td>DP</td>
<td>Duplicate Processing</td>
</tr>
<tr>
<td>4535</td>
<td>EX</td>
<td>Expired Card</td>
</tr>
<tr>
<td>4502</td>
<td>IC</td>
<td>Illegible Transaction Documentation</td>
</tr>
<tr>
<td>4753</td>
<td>IN</td>
<td>Invalid Card Number</td>
</tr>
<tr>
<td>4584</td>
<td>IS</td>
<td>Missing Signature</td>
</tr>
<tr>
<td>4542</td>
<td>LP</td>
<td>Late Presentation</td>
</tr>
<tr>
<td>4754</td>
<td>NA</td>
<td>No Authorization</td>
</tr>
<tr>
<td>4554</td>
<td>NC</td>
<td>Not Classified</td>
</tr>
<tr>
<td>4755</td>
<td>RG</td>
<td>Non-receipts of Goods or Services</td>
</tr>
<tr>
<td>4553</td>
<td>RM</td>
<td>Quality of Goods or Services Dispute</td>
</tr>
<tr>
<td>4555</td>
<td>RN1</td>
<td>Additional Credit Requested</td>
</tr>
<tr>
<td>4555</td>
<td>RN2</td>
<td>Credit Not Received</td>
</tr>
<tr>
<td>4756</td>
<td>SV</td>
<td>Stored Value Dispute</td>
</tr>
<tr>
<td>4757</td>
<td>TF</td>
<td>Violation of Operating Regulations</td>
</tr>
<tr>
<td>4540</td>
<td>UA</td>
<td>Fraud Dispute</td>
</tr>
</tbody></table>

<h1 id="retrieval-request-reason-codes">Retrieval Request Reason Codes</h1>

<h2 id="visa">Visa</h2>

<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>28</td>
<td>Cardholder Requests Copy Bearing Signature</td>
</tr>
<tr>
<td>29</td>
<td>Request for T&amp;E Documents</td>
</tr>
<tr>
<td>30</td>
<td>Cardholder Dispute - Cardholder Requests Draft</td>
</tr>
<tr>
<td>33</td>
<td>Legal Process or Fraud Analysis</td>
</tr>
<tr>
<td>34</td>
<td>Repeat Request for Copy</td>
</tr>
</tbody></table>

<h2 id="mastercard">MasterCard</h2>

<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>05</td>
<td>Chargeback Support - Card Holder Does Not Agree with Amount Billed</td>
</tr>
<tr>
<td>21</td>
<td>Cardholder Inquiry - Does Not Recognize Transaction (Merchant Name, City, State or Date)</td>
</tr>
<tr>
<td>22</td>
<td>Cardholder Inquiry - Disagrees With Billing</td>
</tr>
<tr>
<td>23</td>
<td>Cardholder Inquiry - Needs for Personal Records</td>
</tr>
<tr>
<td>24</td>
<td>Cardholder Inquiry - No Reason Code</td>
</tr>
<tr>
<td>41</td>
<td>Legal/Fraud - Signature Verification</td>
</tr>
<tr>
<td>42</td>
<td>Potential Chargeback or Compliance Documentation</td>
</tr>
<tr>
<td>43</td>
<td>Legal/Fraud - Imprint Verification</td>
</tr>
</tbody></table>

<h2 id="discover">Discover</h2>

<p>Discover Network has both numeric and alpha-numeric dispute reason codes. Your
documentation may include either value.</p>

<table><thead>
<tr>
<th>Code</th>
<th>Code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td>4750</td>
<td>AL</td>
<td>Airline Transaction Dispute</td>
</tr>
<tr>
<td>4541</td>
<td>AP</td>
<td>Automatic Payment Dispute</td>
</tr>
<tr>
<td>4586</td>
<td>AW</td>
<td>Altered Amount Dispute</td>
</tr>
<tr>
<td>4751</td>
<td>CA</td>
<td>Cash Advance Dispute</td>
</tr>
<tr>
<td>4550</td>
<td>CD</td>
<td>Credit Posted as Card Sale</td>
</tr>
<tr>
<td>4594</td>
<td>CR</td>
<td>Cancelled Reservation</td>
</tr>
<tr>
<td>4534</td>
<td>DP</td>
<td>Duplicate Processing</td>
</tr>
<tr>
<td>4554</td>
<td>NC</td>
<td>Not Classified</td>
</tr>
<tr>
<td>4755</td>
<td>RG</td>
<td>Non-receipts of Goods or Services</td>
</tr>
<tr>
<td>4553</td>
<td>RM</td>
<td>Quality of Goods or Services Dispute</td>
</tr>
<tr>
<td>4555</td>
<td>RN1</td>
<td>Additional Credit Requested</td>
</tr>
<tr>
<td>4555</td>
<td>RN2</td>
<td>Credit Not Received</td>
</tr>
<tr>
<td>4540</td>
<td>UA10</td>
<td>Swiped Card Transaction - Proof of Valid Card Sale</td>
</tr>
<tr>
<td>4540</td>
<td>UA20</td>
<td>Keyed Card Transaction - Proof of Valid Card Sale</td>
</tr>
<tr>
<td>4540</td>
<td>UA30</td>
<td>Card Not Present Transaction - Proof of Delivery</td>
</tr>
</tbody></table>

<h1 id="errors">Errors</h1>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Something is wrong with your request</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You&rsquo;re requesting too fast. Slown down.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarially offline for maintanance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
        <div id="lang-selector">
          
            
              
                <a href="#" data-language-name="shell">shell</a>
              
            
          
        </div>
      </div>
    </div>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-41966471-2', 'fraudrankr.com');
      ga('send', 'pageview');
    </script>
  </body>
</html>
